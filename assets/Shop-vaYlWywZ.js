import{j as e,r as i}from"./index-DOwTlaWh.js";import{P as o,u as j,a as l}from"./useCartStore-DTPmFa76.js";const m=({pharmacy:a,onClick:r})=>e.jsxs("li",{onClick:r,className:" bg-white border border-gray-200 rounded-lg shadow p-5 my-5 cursor-pointer hover:shadow-lg transition duration-300 ease-in-out ",children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold tracking-tight text-zinc-800",children:a.name}),e.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:["Street: ",a.address]}),e.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:["Contact: ",a.phone]})]});m.propTypes={pharmacy:o.object.isRequired,onClick:o.func.isRequired};const h=({medicine:a,onAddToCart:r})=>e.jsxs("li",{className:" bg-white border border-gray-200 rounded-lg shadow p-5 my-5 cursor-pointer hover:shadow-lg transition duration-300 ease-in-out ",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900",children:a.name}),e.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:["Price: ",a.price]}),e.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:["Count: ",a.count]})]}),e.jsx("button",{onClick:r,className:"bg-emerald-500 text-white px-4 py-2 rounded text-l font-semibold hover:bg-emerald-600 transition duration-300 ease-in-out",children:"Add to Cart"})]}),e.jsx("img",{src:a.image,alt:"medicine image",className:"w-[250px]  mx-auto mt-2"})]});h.propTypes={medicine:o.object.isRequired,onAddToCart:o.func.isRequired};const N=()=>{const[a,r]=i.useState([]),[c,x]=i.useState([]),{addToCart:p}=j();i.useEffect(()=>{(async()=>{try{const d=(await l.get("https://medicine-backend-node.onrender.com/api/store")).data.stores.map(t=>({id:t._id,name:t.name,address:t.address,phone:t.phone}));r(d)}catch(n){console.error("Помилка при отриманні списку аптек:",n)}})()},[]);const u=async s=>{try{const d=(await l.get(`https://medicine-backend-node.onrender.com/api/medicine/${s}`)).data.medicine.map(t=>({id:t._id,name:t.name,count:t.count,image:t.image,price:t.price}));x(d)}catch(n){console.error("Помилка при отриманні списку ліків:",n)}},g=s=>{p(s)};return e.jsxs("div",{className:"container mx-auto p-6 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border p-4 rounded-xl  border-slate-300",children:[e.jsx("h2",{className:"mb-4 text-3xl font-bold",children:"Shops:"}),e.jsx("ul",{children:a.map(s=>e.jsx(m,{pharmacy:s,onClick:()=>u(s.id)},s.id))})]}),c.length>0&&e.jsx("ul",{className:"border p-4 rounded-xl  border-slate-300",children:c.map(s=>e.jsx(h,{medicine:s,onAddToCart:()=>g(s)},s.id))})]})};export{N as default};
